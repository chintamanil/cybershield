<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <!-- Primary Meta Tags -->
    <title>{{ page.title | default: site.title | default: site.github.repository_name }}</title>
    <meta name="title" content="{{ page.title | default: site.title | default: site.github.repository_name }}">
    <meta name="description" content="{{ page.description | default: site.description | default: site.github.project_tagline }}">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="{{ site.url }}{{ site.baseurl }}{{ page.url }}">
    <meta property="og:title" content="{{ page.title | default: site.title }}">
    <meta property="og:description" content="{{ page.description | default: site.description }}">
    <meta property="og:image" content="{{ site.url }}{{ site.baseurl }}/assets/img/cybershield-banner.png">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="{{ site.url }}{{ site.baseurl }}{{ page.url }}">
    <meta property="twitter:title" content="{{ page.title | default: site.title }}">
    <meta property="twitter:description" content="{{ page.description | default: site.description }}">
    <meta property="twitter:image" content="{{ site.url }}{{ site.baseurl }}/assets/img/cybershield-banner.png">

    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link rel="preload" href="https://fonts.googleapis.com/css?family=Open+Sans:400,700&display=swap" as="style" type="text/css" crossorigin>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,700&display=swap">
    <link rel="stylesheet" href="{{ '/assets/css/style.css?v=' | append: site.github.build_revision | relative_url }}">
    
    <!-- Mermaid.js for diagrams -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.0/dist/mermaid.min.js"></script>
    
    <!-- Custom styles -->
    <style>
      .mermaid {
        text-align: center;
        margin: 20px 0;
      }
      
      .highlight-box {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 20px;
        border-radius: 10px;
        margin: 20px 0;
        text-align: center;
      }
      
      .status-badge {
        display: inline-block;
        padding: 4px 8px;
        border-radius: 4px;
        font-size: 0.875em;
        font-weight: bold;
        color: white;
      }
      
      .status-live { background-color: #28a745; }
      .status-beta { background-color: #ffc107; color: #000; }
      .status-dev { background-color: #6c757d; }
      
      .architecture-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
        margin: 20px 0;
      }
      
      .component-card {
        border: 1px solid #e1e4e8;
        border-radius: 8px;
        padding: 20px;
        background: #f8f9fa;
        transition: transform 0.2s, box-shadow 0.2s;
      }
      
      .component-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      }
      
      .metric-card {
        background: white;
        border: 1px solid #e1e4e8;
        border-radius: 8px;
        padding: 20px;
        text-align: center;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      }
      
      .metric-value {
        font-size: 2em;
        font-weight: bold;
        color: #0366d6;
        margin: 10px 0;
      }
      
      .performance-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 15px;
        margin: 20px 0;
      }
      
      .code-block {
        background: #f6f8fa;
        border: 1px solid #e1e4e8;
        border-radius: 6px;
        padding: 16px;
        overflow-x: auto;
        font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace;
      }
      
      .warning-box {
        background-color: #fff3cd;
        border: 1px solid #ffeaa7;
        border-left: 4px solid #f39c12;
        padding: 15px;
        border-radius: 4px;
        margin: 15px 0;
      }
      
      .info-box {
        background-color: #d1ecf1;
        border: 1px solid #bee5eb;
        border-left: 4px solid #17a2b8;
        padding: 15px;
        border-radius: 4px;
        margin: 15px 0;
      }
      
      .success-box {
        background-color: #d4edda;
        border: 1px solid #c3e6cb;
        border-left: 4px solid #28a745;
        padding: 15px;
        border-radius: 4px;
        margin: 15px 0;
      }
      
      table {
        border-collapse: collapse;
        width: 100%;
        margin: 20px 0;
      }
      
      table th,
      table td {
        border: 1px solid #e1e4e8;
        padding: 8px 12px;
        text-align: left;
      }
      
      table th {
        background-color: #f6f8fa;
        font-weight: 600;
      }
      
      table tr:nth-child(even) {
        background-color: #f6f8fa;
      }
      
      .navigation-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 15px;
        margin: 30px 0;
      }
      
      .nav-item {
        display: block;
        padding: 15px;
        background: white;
        border: 1px solid #e1e4e8;
        border-radius: 8px;
        text-decoration: none;
        color: #24292e;
        transition: all 0.2s;
      }
      
      .nav-item:hover {
        border-color: #0366d6;
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        text-decoration: none;
      }
      
      .nav-item h3 {
        margin: 0 0 8px 0;
        color: #0366d6;
      }
      
      .nav-item p {
        margin: 0;
        color: #586069;
        font-size: 0.9em;
      }
    </style>
  </head>

  <body>
    <div class="container-lg px-3 my-5 markdown-body">
      <h1><a href="{{ "/" | absolute_url }}">{{ site.title | default: site.github.repository_name }}</a></h1>
      
      <nav style="background: #f6f8fa; padding: 15px; border-radius: 8px; margin: 20px 0;">
        <div style="display: flex; flex-wrap: wrap; gap: 20px; align-items: center;">
          <a href="{{ site.baseurl }}/" style="text-decoration: none; color: #0366d6; font-weight: 500;">üè† Home</a>
          <a href="{{ site.baseurl }}/architecture" style="text-decoration: none; color: #0366d6; font-weight: 500;">üèóÔ∏è Architecture</a>
          <a href="{{ site.baseurl }}/aws-infrastructure" style="text-decoration: none; color: #0366d6; font-weight: 500;">‚òÅÔ∏è AWS Infrastructure</a>
          <a href="{{ site.baseurl }}/api-docs" style="text-decoration: none; color: #0366d6; font-weight: 500;">üìö API Docs</a>
          <a href="{{ site.baseurl }}/deployment" style="text-decoration: none; color: #0366d6; font-weight: 500;">üöÄ Deployment</a>
          <a href="{{ site.baseurl }}/testing" style="text-decoration: none; color: #0366d6; font-weight: 500;">üß™ Testing</a>
          <a href="https://github.com/chintamanil/cybershield" style="text-decoration: none; color: #0366d6; font-weight: 500;">üìÅ GitHub</a>
        </div>
      </nav>

      {{ content }}

      <footer style="margin-top: 60px; padding-top: 20px; border-top: 1px solid #e1e4e8; text-align: center; color: #586069;">
        <p>{{ site.footer_content | default: "CyberShield AI Platform - Advanced Multi-Agent Cybersecurity Solution" }}</p>
        <p>
          <a href="https://github.com/chintamanil/cybershield" style="color: #0366d6;">View on GitHub</a> | 
          <a href="https://cybershield-ai.com" style="color: #0366d6;">Live Platform</a>
        </p>
      </footer>
    </div>

    <script>
      // Initialize Mermaid
      mermaid.initialize({ 
        startOnLoad: true,
        theme: 'default',
        themeVariables: {
          primaryColor: '#0366d6',
          primaryTextColor: '#24292e',
          primaryBorderColor: '#e1e4e8',
          lineColor: '#e1e4e8',
          secondaryColor: '#f6f8fa',
          tertiaryColor: '#fff'
        }
      });
      
      // Add copy buttons to code blocks
      document.addEventListener('DOMContentLoaded', function() {
        const codeBlocks = document.querySelectorAll('pre code');
        codeBlocks.forEach(function(codeBlock) {
          const pre = codeBlock.parentNode;
          const button = document.createElement('button');
          button.className = 'copy-button';
          button.textContent = 'Copy';
          button.style.cssText = `
            position: absolute;
            top: 10px;
            right: 10px;
            background: #0366d6;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
          `;
          
          pre.style.position = 'relative';
          pre.appendChild(button);
          
          button.addEventListener('click', function() {
            navigator.clipboard.writeText(codeBlock.textContent).then(function() {
              button.textContent = 'Copied!';
              setTimeout(function() {
                button.textContent = 'Copy';
              }, 2000);
            });
          });
        });
      });
    </script>
  </body>
</html>